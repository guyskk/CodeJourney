/*! mplayers 08-10-2014 */
function AudioControl(a){this.target=a,this.status=!1,this.songList=[],this.playingIndex=0}AudioControl.prototype.addItem=function(a,b){this[a]=b},AudioControl.prototype.emitplay=function(){var a=this,b=this.play,c=this.audio;b.addEventListener("click",function(){a.status?(a.status=!1,b.title="播放",c.pause()):(a.status=!0,b.title="暂停",c.play())},!1)},AudioControl.prototype.adjustVolume=function(){var a=this.volumeDown,b=this.volumeUp,c=this.audio;a.addEventListener("click",function(){c.volume>0&&(c.volume=(c.volume-.1).toFixed(1))},!1),b.addEventListener("click",function(){c.volume<1&&(c.volume=(c.volume+.1).toFixed(1))},!1)},AudioControl.prototype.prev=function(){var a=this,b=this.backward,c=this.audio;b.addEventListener("click",function(){a.playList||alert("没有上一首!"),a.playingIndex<=0?a.playingIndex=a.playList.length-1:a.playingIndex--,console.log(a.playingIndex),c.src=a.playList[a.playingIndex],c.play()},!1)},AudioControl.prototype.next=function(){var a=this,b=this.forward,c=this.audio;b.addEventListener("click",function(){a.playList||alert("没有下一首!"),console.log(a.playingIndex),a.playingIndex>=a.playList.length-1?a.playingIndex=0:a.playingIndex++,c.src=a.playList[a.playingIndex],c.play()},!1)},AudioControl.prototype.init=function(){this.emitplay(),this.adjustVolume(),this.next(),this.prev()},AudioControl.prototype.random=function(){var a=Math.floor(4*Math.random());return a},AudioControl.prototype.addPlayList=function(a){this.playList=a},$(document).ready(function(){var a=["http://1.mplayers.sinaapp.com/mplayer/music/01%20Avicii%20vs.%20Nicky%20Romero%20-%20I%20Could%20Be%20The%20One%20(Nicktim%20Radio%20Edit).mp3","http://1.mplayers.sinaapp.com/mplayer/music/02%20Otto%20Knows%20-%20Million%20Voices%20(Radio%20Edit).mp3","http://1.mplayers.sinaapp.com/mplayer/music/03%20The%20Wanted%20-%20Chasing%20The%20Sun%20(Hardwell%20Edit).mp3","http://1.mplayers.sinaapp.com/mplayer/music/04%20DJ%20Antoine%20-%20Bella%20Vita%20(DJ%20Antoine%20vs.%20Mad%20Mark%202K13%20Radio%20Edit).mp3","http://1.mplayers.sinaapp.com/mplayer/music/05%20Dada%20Life%20-%20So%20Young%20So%20High%20(Radio%20Edit).mp3","http://1.mplayers.sinaapp.com/mplayer/music/1772883837_11718726_l.mp3"],b=document.getElementsByTagName("audio")[0],c=document.getElementById("control-play"),d=document.getElementById("control-backward"),e=document.getElementById("control-forward"),f=document.getElementById("control-volume-down"),g=document.getElementById("control-volume-up"),h=new AudioControl(b);h.addItem("audio",b),h.addItem("play",c),h.addItem("backward",d),h.addItem("forward",e),h.addItem("volumeDown",f),h.addItem("volumeUp",g),h.addPlayList(a),h.audio.src=a[Math.floor(0+4*Math.random())],h.init()});