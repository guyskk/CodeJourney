<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Acceleration</title>
    <link rel="stylesheet" href="base.css">
</head>

<body>
    <canvas id="canvas"></canvas>
    <script src="utils.js"></script>
    <script src="ball.js"></script>
    <script>
    window.onload = function() {
        var W = window.innerWidth,
            H = window.innerHeight;
        var canvas = document.getElementById("canvas"),
            context = canvas.getContext("2d"),
            ball = new Cricle(20),
            vx = 0,
            vy = 0;

        var ax = 0,
            ay = 0;

        canvas.width = W;
        canvas.height = H;

        window.addEventListener("keydown", function(e) {
            console.log(e.keyCode);
            var keyCode = e.keyCode;
            if (keyCode == 37) {
                ax = -0.1;
            } else if (keyCode == 39) {
                ax = 0.1;
            } else if (keyCode == 40) {
                ay = 0.1;
            } else if (keyCode == 38) {
                ay = -0.1;
            }
        }, false);

        window.addEventListener("keyup", function() {
            ax = 0;
            vx = 0;

            ay = 0;
            vy = 0;
        }, false);

        ball.x = 50;
        ball.y = 100;

        function draw() {
            context.clearRect(0, 0, canvas.width, canvas.height);
            vx += ax;
            vy += ay;
            ball.x += parseInt(vx, 10);
            ball.y += parseInt(vy, 10);
            ball.draw(context);
        }
        var timer = setInterval(function() {
            console.log(ball.y);
            draw();
        }, 30);
    }
    </script>
</body>

</html>
