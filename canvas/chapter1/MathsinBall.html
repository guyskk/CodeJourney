<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <canvas id="canvas" width="400" height="500"></canvas>
    <script>
    function Cube(x, y) {
        if (x == undefined) {
            x = 0;
        }
        if (y == undefined) {
            y = 0;
        }
        this.x = x;
        this.y = y;
        this.radius = 10;
        this.width = 20;
        this.height = 20;
    }
    Cube.prototype.draw = function(context) {

        this.x += 2;
        this.y += 2;
        this.r = Math.round(Math.random() * 255);
        this.g = Math.round(Math.random() * 255);
        this.b = Math.round(Math.random() * 255);
        this.rgba = "rgba(" + this.r + "," + this.g + "," + this.b + ",1)";

        //画园
        context.fillStyle = this.rgba;
        context.beginPath();
        context.arc(this.x, this.y, this.radius, 0, (Math.PI * 2), true);
        context.closePath();
        context.fill();
        // 画方
/*        context.strokeStyle = this.rgba;
        context.strokeRect(this.x, this.y, this.width, this.height);*/

    }
    window.onload = function() {
        var canvas = document.getElementById("canvas"),
            context = canvas.getContext("2d");
        var angle = 0;

        // context.beginPath();
        // context.moveTo(10, 20);
        // context.lineTo(300, 300);
        // context.stroke();

        var cube = new Cube();

        var timer = setInterval(function() {
            context.clearRect(0, 0, canvas.width, canvas.width);
            cube.y = canvas.height / 2 + Math.sin(angle) * 50;
            angle += 0.1;
            cube.draw(context);
        }, 30);
    }
    </script>
</body>

</html>
