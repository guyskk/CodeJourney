<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Draw Lines</title>
    <link rel="stylesheet" href="base.css">

</head>

<body>
    <canvas id="canvas"></canvas>
    <script src="utils.js"></script>
    <script>
    window.onload = function() {
        var W = window.innerWidth,
            H = window.innerHeight;
        var canvas = document.getElementById("canvas"),
            context = canvas.getContext("2d"),
            mouse = utils.captureMouse(canvas);
        canvas.width = W;
        canvas.height = H;

        var onMouseMove = function() {
            context.lineTo(mouse.x, mouse.y);
            context.stroke();
        }
        canvas.addEventListener("mousedown", function() {
            console.log(mouse.x+ " : " +mouse.y);
            context.beginPath();
            context.moveTo(mouse.x, mouse.y);
            canvas.addEventListener("mousemove", onMouseMove, false);
        }, false);

        canvas.addEventListener("mouseup", function() {
            canvas.removeEventListener("mousemove", onMouseMove, false);
        }, false);
    };
    </script>
</body>

</html>
