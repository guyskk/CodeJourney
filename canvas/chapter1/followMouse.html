<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Follow Mouse</title>
    <link rel="stylesheet" href="base.css">
</head>

<body>
    <canvas id="canvas"></canvas>
    <script src="utils.js"></script>
    <script src="ball.js"></script>
    <script>
    window.onload = function() {
        var W = window.innerWidth,
            H = window.innerHeight;
        var canvas = document.getElementById("canvas"),
            context = canvas.getContext("2d"),
            ball = new Cricle(),
            mouse = utils.captureMouse(canvas);
        // ball = new Cricle(),
        vx = 1,
        vy = 1,
        speed = 30;

        canvas.width = W;
        canvas.height = H;



        var timer = setInterval(function() {
            // context.clearRect(0, 0, canvas.width, canvas.height);
            var dx = mouse.x - ball.x,
                dy = mouse.y - ball.y,
                angle = Math.atan2(dy, dx),
                vx = Math.cos(angle) * speed,
                vy = Math.sin(angle) * speed;

            ball.rotation = angle;
            ball.x += vx;
            ball.y += vy;
            ball.draw(context);

        }, 30);



    }
    </script>
</body>

</html>
